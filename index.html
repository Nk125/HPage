<!DOCTYPE html>
<!--Hecho por NK125-->
<html lang="es">
    <head>
        <meta charset="UTF-8"
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Webhook Messenger</title>
        <style>
            body {
                font-family: Tahoma;
                background-color:darkslategray;
                color: whitesmoke;
            }
            #CajaW {
                padding: 15px;
                margin: auto;
                text-align: center;
                text-decoration: none;
                font-size: 16px;
            }
            .CajaV {
                height: 160px;
            }
            .label {
                font-weight: 700;
                font-size: 20px;
            }
            #inputbox,#webhookurl {
                background-color: black;
                color: white;
                font-family: 'Arial';
                border-radius: 9px;
                border: 1px solid gray;
            }
            #btn {
                background-color: #FFFFFF;
                border: none;
                color: darkslategray;
                padding: 5px 12px;
                display: inline-block;
            }
            #response {
                color: beige;
            }
        </style>
  </head>
  <body>
<div id="CajaW">
<div class="CajaV"></div>
    <label for="webhookurl" class="label">Añade la URL del webhook abajo</label>
    <br>
    <textarea id="webhookurl" name="webhookbox">URL del Webhook</textarea>
    <br>
    <label for="box" class="label">Mensaje:</label>
    <br>
    <textarea id="inputbox" name="box">Añade el mensaje a enviar aquí</textarea>
    <br>
    <button id="btn" onclick="sendMessage()">Enviar</button>
    <br>
    <p id="response"></p>
<div class="CajaV"></div>
</div>
<script>
    function sendMessage() {
      var webhookurl = document.querySelector("#webhookurl").value;
      var writeoutres = 'document.getElementById("response").innerHTML';
      var request = new XMLHttpRequest();
      
      request.open("POST", webhookurl);

      request.setRequestHeader('Content-type', 'application/json');

      var params = {
        username: "",
        avatar_url: "",
        content: document.querySelector("#inputbox").value
      }

      request.send(JSON.stringify(params));
      var res = request.getResponseHeader(content);
      switch (res) {
          case null:
              document.getElementById("response").innerHTML = 'Verifica que el webhook es correcto y hayas escrito un mensaje e intentalo de nuevo.';
          break;
          default:
              document.getElementById("response").innerHTML = 'Enviado :' + res;
          break;
      }
    }
  </script>
  </body>
</html>
